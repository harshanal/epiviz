---
title: "Line charts"
output:
  rmarkdown::html_vignette:
    toc: true
    toc_depth: 2
vignette: >
  %\VignetteIndexEntry{Line charts}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Overview

One concise example using `line_chart()` to draw grouped lines with a legend and basic labels.

```r
library(epiviz)
library(dplyr)
library(lubridate)
```

## Grouped lines (static)

Aggregate by month and species, then plot grouped lines.

```r
df <- epiviz::lab_data %>%
  mutate(specimen_month = lubridate::floor_date(specimen_date, "month")) %>%
  filter(specimen_month >= as.Date("2023-01-01"), specimen_month <= as.Date("2023-06-30")) %>%
  count(organism_species_name, specimen_month, name = "detections") %>%
  rename(species = organism_species_name)

line_chart(
  dynamic = FALSE,
  params = list(
    dfr = df,
    x = "specimen_month",
    y = "detections",
    group_var = "species",
    line_colour = c("#007C91", "#8A1B61", "#FF7F32"),
    line_type = c("solid","dotted","dashed"),
    width = 1.2,
    title = "Monthly detections by species (H1 2023)",
    x_label = "Month",
    y_label = "Detections",
    x_label_angle = 45,
    legend_title = "Species",
    legend_position = "top"
  )
)
```


